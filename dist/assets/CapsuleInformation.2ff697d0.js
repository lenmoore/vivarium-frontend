import{u as $,l as q,f as F,g as k,h as G,o,a,i as u,n as b,k as n,v as i,F as x,j as C,s as h,bA as H,t as _,p as N}from"./index.d52b5046.js";import{u as R}from"./humanity-shop.store.6f11026a.js";/* empty css                                                    */const L={class:"my-4"},O=u("br",null,null,-1),T=u("br",null,null,-1),j={key:0},A={class:"py-4 col"},D=u("h2",null,"M\xE4ng kapslis",-1),E={key:0},I={class:"py-4 col"},K=u("h2",null,"Kapsli toodete edetabel",-1),J={class:"products"},Q={key:0},U={key:0,class:"lime"},W={key:1,class:"lime"},X={key:2,class:"lime"},Y={key:3,class:"lime"},le={__name:"CapsuleInformation",setup(Z){H();const p=$();q.currentRoute.value.params.id,F(async()=>{await p.getGames(),await p.getPhases(),await g.fetchProducts()});let t=k(()=>p.games);const g=R();let e=G(""),s=k(()=>g.products);async function v(){await g.fetchProducts(),s=k(()=>g.products);let m={"blue-sky":"orange",fuchsia:"fuchsia",silver:"blue",lime:"green"}[e.value],r=s.value.sort((l,c)=>c.humanity_values[m].average-l.humanity_values[m].average);return console.log(t),r}async function d(){await p.getGames(),t=k(()=>p.games);let m={"blue-sky":"orange",fuchsia:"fuchsia",silver:"blue",lime:"green"}[e.value];return console.log(t),t.value.filter(r=>r.open_for_colors.includes(m))}function V(m){return m==={"blue-sky":"orange",fuchsia:"fuchsia",silver:"blue",lime:"green"}[e.value]}return(m,r)=>(o(),a("div",L,[u("div",null,[u("button",{class:b([{"font-size-xl":n(e)==="blue-sky"},"mx-2 p-2"]),style:{"background-color":"paleturquoise"},onClick:r[0]||(r[0]=l=>{i(e)?e.value="blue-sky":e="blue-sky",i(s)?s.value=v():s=v(),i(t)?t.value=d():t=d()})}," T\xFCrkiis ",2),u("button",{class:b([{"font-size-xl":n(e)==="fuchsia"},"mx-2 p-2"]),style:{"background-color":"lightpink"},onClick:r[1]||(r[1]=l=>{i(e)?e.value="fuchsia":e="fuchsia",i(s)?s.value=v():s=v(),i(t)?t.value=d():t=d()})}," Violett ",2),u("button",{class:b([{"font-size-xl":n(e)==="silver"},"mx-2 p-2"]),style:{"background-color":"silver"},onClick:r[2]||(r[2]=l=>{i(e)?e.value="silver":e="silver",i(s)?s.value=v():s=v(),i(t)?t.value=d():t=d()})}," H\xF5bevalge ",2),u("button",{class:b([{"font-size-xl":n(e)==="lime"},"mx-2 p-2"]),style:{"background-color":"lime"},onClick:r[3]||(r[3]=l=>{i(e)?e.value="lime":e="lime",i(s)?s.value=v():s=v(),i(t)?t.value=d():t=d()})}," Laim ",2)]),O,T,n(e).length?(o(),a("div",j,[u("div",A,[D,u("div",null,[(o(!0),a(x,null,C(n(t),(l,c)=>(o(),a("div",{key:l._id+c},[l.game_type!=="SHOP"&&V(l.open_for_colors[0])&&l.open_for_colors.length===1?(o(),a("div",E,[u("h3",null,_(l.name),1),(o(!0),a(x,null,C(l.game_steps,y=>(o(),a("div",{key:y._id,class:"py-2"},[u("strong",null,_(y.question_text),1),(o(!0),a(x,null,C(y.question_options,f=>(o(),a("div",{key:f.option_text},_(f.option_text),1))),128))]))),128))])):h("",!0)]))),128))])]),u("div",I,[K,u("div",J,[(o(!0),a(x,null,C(n(s),(l,c)=>{var y,f,S,w,M,P,z,B;return o(),a("div",{key:c,class:"product"},[l?(o(),a("div",Q,[N(_(l==null?void 0:l.title)+" ",1),n(e)==="lime"?(o(),a("span",U,_(Math.round(((f=(y=n(s)[c].humanity_values)==null?void 0:y.green)==null?void 0:f.average)*100)/100),1)):h("",!0),n(e)==="silver"?(o(),a("span",W,_(Math.round(((w=(S=n(s)[c].humanity_values)==null?void 0:S.blue)==null?void 0:w.average)*100)/100),1)):h("",!0),n(e)==="blue-sky"?(o(),a("span",X,_(Math.round(((P=(M=n(s)[c].humanity_values)==null?void 0:M.orange)==null?void 0:P.average)*100)/100),1)):h("",!0),n(e)==="fuchsia"?(o(),a("span",Y,_(Math.round(((B=(z=n(s)[c].humanity_values)==null?void 0:z.fuchsia)==null?void 0:B.average)*100)/100),1)):h("",!0)])):h("",!0)])}),128))])])])):h("",!0)]))}};export{le as default};
